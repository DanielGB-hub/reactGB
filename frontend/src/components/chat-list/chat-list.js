import { Link, useParams } from "react-router-dom";
import { List } from "@mui/material";
import { Chat } from "./chat";

export const ChatList = ({ createConversation, conversations }) => {
  const params = useParams();

  return (
    <List component="nav">
      <button1 onClick={createConversation} title="Создать новый чат" >
         <svg class="icon-add-chat">
            <use xlinkHref="#Add_chat"></use>
         </svg>
      </button1>
      {conversations.map((chat, index) => (
        <Link key={index} to={`/chat/${chat.title}`}>
          <Chat title={chat.title} selected={chat.title === params.roomId} />
        </Link>
      ))}

    <svg width="0" height="0" class="hidden">
        <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="Add_chat">
            <path d="M19 5.5C19 6.69347 18.5259 7.83807 17.682 8.68198C16.8381 9.52589 15.6935 10 14.5 10C13.3065 10 12.1619 9.52589 11.318 8.68198C10.4741 7.83807 10 6.69347 10 5.5C10 4.30653 10.4741 3.16193 11.318 2.31802C12.1619 1.47411 13.3065 1 14.5 1C15.6935 1 16.8381 1.47411 17.682 2.31802C18.5259 3.16193 19 4.30653 19 5.5V5.5ZM15 3.5C15 3.36739 14.9473 3.24021 14.8536 3.14645C14.7598 3.05268 14.6326 3 14.5 3C14.3674 3 14.2402 3.05268 14.1464 3.14645C14.0527 3.24021 14 3.36739 14 3.5V5H12.5C12.3674 5 12.2402 5.05268 12.1464 5.14645C12.0527 5.24021 12 5.36739 12 5.5C12 5.63261 12.0527 5.75979 12.1464 5.85355C12.2402 5.94732 12.3674 6 12.5 6H14V7.5C14 7.63261 14.0527 7.75979 14.1464 7.85355C14.2402 7.94732 14.3674 8 14.5 8C14.6326 8 14.7598 7.94732 14.8536 7.85355C14.9473 7.75979 15 7.63261 15 7.5V6H16.5C16.6326 6 16.7598 5.94732 16.8536 5.85355C16.9473 5.75979 17 5.63261 17 5.5C17 5.36739 16.9473 5.24021 16.8536 5.14645C16.7598 5.05268 16.6326 5 16.5 5H15V3.5Z"></path>
            <path d="M17 12.276V10.4C17.3562 10.218 17.6915 9.99767 18 9.743V12.276C18 13.694 16.836 14.842 15.4 14.842H10.81L6.799 17.803C6.58612 17.9599 6.32014 18.027 6.05831 17.9898C5.79647 17.9526 5.55972 17.814 5.399 17.604C5.27016 17.4343 5.20028 17.2271 5.2 17.014V14.842H4.6C3.164 14.842 2 13.693 2 12.276V5.566C2 4.149 3.164 3 4.6 3H9.6C9.43646 3.31961 9.30482 3.65456 9.207 4H4.6C3.704 4 3 4.713 3 5.566V12.276C3 13.129 3.704 13.842 4.6 13.842H6.2V17H6.203L6.205 16.999L10.481 13.842H15.4C16.296 13.842 17 13.129 17 12.276V12.276Z"></path>
        </symbol>
    </svg>
    </List>
  );
};